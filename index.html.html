<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Zoe üåô</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --pink: #ffb6d5;
  --blue: #070c24;
  --card: rgba(255, 255, 255, 0.95);
  --green-heart: #8fcfa9;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Poppins", sans-serif;
  -webkit-tap-highlight-color: transparent;
}

body {
  min-height: 100vh;
  overflow-x: hidden;
  background: radial-gradient(circle at bottom, #121a3a, var(--blue));
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

/* Stars */
.star {
  position: fixed;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0.7;
  animation: twinkle 3s infinite alternate;
}

@keyframes twinkle {
  from { opacity: 0.3; }
  to { opacity: 1; }
}

/* Shooting stars */
.shooting-star {
  position: fixed;
  width: 140px;
  height: 2px;
  background: linear-gradient(90deg, white, transparent);
  opacity: 0.9;
  animation: shoot 1.1s linear forwards;
}

@keyframes shoot {
  from {
    transform: translate(0, 0) rotate(-20deg);
    opacity: 1;
  }
  to {
    transform: translate(-450px, 250px) rotate(-20deg);
    opacity: 0;
  }
}

/* Floating hearts */
.heart {
  position: fixed;
  font-size: 24px;
  color: var(--green-heart);
  animation: floatHeart 4s ease-out forwards;
  pointer-events: none;
  z-index: 100;
}

@keyframes floatHeart {
  0% { transform: translateY(0) scale(0.8); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(-120px) scale(1.4); opacity: 0; }
}

/* Card */
.card {
  background: var(--card);
  padding: 30px 25px;
  width: 100%;
  max-width: 380px;
  border-radius: 26px;
  text-align: center;
  box-shadow: 0 30px 70px rgba(0,0,0,0.5);
  z-index: 10;
}

h1 {
  color: #070c24;
  font-size: 2rem;
  margin-bottom: 15px;
}

p {
  color: #333;
  font-size: 1.1rem;
  margin-bottom: 25px;
  line-height: 1.6;
}

/* Buttons */
.buttons {
  position: relative;
  height: 160px;
  width: 100%;
  margin-top: 25px;
  touch-action: none;
}

.button-wrapper {
  position: absolute;
  transition: transform 0.3s ease;
}

button {
  border: none;
  padding: 20px 40px;
  border-radius: 35px;
  font-size: 1.3rem;
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  min-width: 150px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
  transition: all 0.2s ease;
}

#yesBtn {
  background: var(--pink);
  color: #333;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  animation: glowPulse 1.5s ease-in-out infinite;
}

#noBtn {
  background: #ddd;
  color: #333;
  position: absolute;
  top: 70px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1;
}

@keyframes glowPulse {
  0% { box-shadow: 0 0 0 rgba(255,182,213,0.6); }
  50% { box-shadow: 0 0 30px rgba(255,182,213,0.9); }
  100% { box-shadow: 0 0 0 rgba(255,182,213,0.6); }
}

button:active {
  transform: scale(0.95);
}

#yesBtn:active {
  transform: translateX(-50%) scale(0.95);
}

/* Mobile optimizations */
@media (max-width: 480px) {
  body {
    padding: 15px;
    touch-action: manipulation;
  }
  
  .card {
    padding: 25px 20px;
    border-radius: 22px;
  }
  
  h1 { 
    font-size: 1.8rem; 
    margin-bottom: 12px;
  }
  
  p { 
    font-size: 1rem; 
    margin-bottom: 22px;
  }
  
  .buttons {
    height: 180px;
    margin-top: 30px;
  }
  
  button {
    padding: 22px 45px;
    font-size: 1.4rem;
    min-width: 160px;
  }
  
  #noBtn {
    top: 80px;
  }
}

/* Very small phones */
@media (max-width: 350px) {
  .card {
    padding: 22px 18px;
  }
  
  h1 {
    font-size: 1.6rem;
  }
  
  button {
    padding: 18px 35px;
    font-size: 1.2rem;
    min-width: 140px;
  }
  
  .buttons {
    height: 170px;
  }
}

/* Success screen */
.success-screen {
  text-align: center;
  padding: 20px;
}

.success-screen h1 {
  color: #2E7D32;
  font-size: 2.2rem;
  margin-bottom: 20px;
}

.success-screen p {
  color: #555;
  font-size: 1.2rem;
  margin-bottom: 30px;
}

.celebrating-heart {
  font-size: 4rem;
  animation: heartBeat 1.5s infinite;
  margin: 20px 0;
}

@keyframes heartBeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* Prevent text selection */
.no-select {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
</style>
</head>

<body class="no-select">

<div class="card" id="card">
  <h1>Zoe üåô</h1>
  <p id="question">
    Under a midnight sky full of stars‚Ä¶  
    will you be my Valentine?
  </p>

  <div class="buttons" id="buttonArea">
    <button id="yesBtn">Yes ‚ú®</button>
    <button id="noBtn">No üëÄ</button>
  </div>
</div>

<script>
// Create stars
function createStars() {
  for (let i = 0; i = 150; i++) {
    const star = document.createElement("div");
    star.className = "star";
    star.style.left = Math.random() * 100 + "vw";
    star.style.top = Math.random() * 100 + "vh";
    star.style.animationDelay = Math.random() * 3 + "s";
    document.body.appendChild(star);
  }
}

// Create shooting stars
function createShootingStars() {
  setInterval(() => {
    const star = document.createElement("div");
    star.className = "shooting-star";
    star.style.top = Math.random() * 50 + "vh";
    star.style.left = Math.random() * 100 + 20 + "vw";
    document.body.appendChild(star);
    setTimeout(() => star.remove(), 1100);
  }, 3000);
}

// DOM elements
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const buttonArea = document.getElementById("buttonArea");
const text = document.getElementById("question");
const card = document.getElementById("card");

// No button responses
const noTexts = [
  "Are you sure? üëÄ",
  "The stars say otherwise ‚ú®",
  "Hmm‚Ä¶ try again üåô",
  "That choice feels temporary üòå",
  "Interesting‚Ä¶ but no üåå",
  "The moon is watching üåù",
  "Last chance to change your mind üí´",
  "The universe wants you to say yes üå†"
];

let noCount = 0;
let isYesClicked = false;
let lastMoveTime = 0;
const MOVE_COOLDOWN = 400; // 400ms cooldown

// Simple function to move No button
function moveNoButton() {
  if (isYesClicked) return;
  
  const now = Date.now();
  if (now - lastMoveTime < MOVE_COOLDOWN) return;
  lastMoveTime = now;
  
  const areaRect = buttonArea.getBoundingClientRect();
  const yesRect = yesBtn.getBoundingClientRect();
  
  // Generate random position
  const maxX = areaRect.width - noBtn.offsetWidth - 20;
  const maxY = areaRect.height - noBtn.offsetHeight - 20;
  
  let newX, newY;
  let attempts = 0;
  
  // Try to find position that doesn't overlap with Yes button
  do {
    newX = Math.random() * maxX;
    newY = Math.random() * maxY;
    
    // Check if overlaps with Yes button (with padding)
    const noRight = newX + noBtn.offsetWidth;
    const noBottom = newY + noBtn.offsetHeight;
    
    const yesLeft = yesRect.left - areaRect.left - 30;
    const yesTop = yesRect.top - areaRect.top - 30;
    const yesRight = yesRect.right - areaRect.left + 30;
    const yesBottom = yesRect.bottom - areaRect.top + 30;
    
    const overlaps = !(
      noRight < yesLeft ||
      newX > yesRight ||
      noBottom < yesTop ||
      newY > yesBottom
    );
    
    attempts++;
    if (!overlaps || attempts > 15) break;
  } while (true);
  
  // Apply new position
  noBtn.style.transition = "all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)";
  noBtn.style.left = `${newX}px`;
  noBtn.style.top = `${newY}px`;
  
  // Update text
  text.textContent = noTexts[noCount % noTexts.length];
  noCount++;
}

// Touch handler for mobile
let touchStartX = 0;
let touchStartY = 0;
let isTouchingNo = false;

noBtn.addEventListener('touchstart', function(e) {
  e.preventDefault();
  const touch = e.touches[0];
  touchStartX = touch.clientX;
  touchStartY = touch.clientY;
  isTouchingNo = true;
  
  // Move button on touch start
  moveNoButton();
});

noBtn.addEventListener('touchmove', function(e) {
  e.preventDefault();
  if (!isTouchingNo) return;
  
  const touch = e.touches[0];
  const deltaX = Math.abs(touch.clientX - touchStartX);
  const deltaY = Math.abs(touch.clientY - touchStartY);
  
  // If finger moved significantly, move the button
  if (deltaX > 20 || deltaY > 20) {
    moveNoButton();
    isTouchingNo = false;
  }
});

noBtn.addEventListener('touchend', function(e) {
  e.preventDefault();
  isTouchingNo = false;
});

// Mouse events for desktop
noBtn.addEventListener('mouseenter', moveNoButton);
noBtn.addEventListener('mousemove', function(e) {
  const rect = noBtn.getBoundingClientRect();
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;
  const distance = Math.sqrt(
    Math.pow(e.clientX - centerX, 2) +
    Math.pow(e.clientY - centerY, 2)
  );
  
  if (distance < 60) {
    moveNoButton();
  }
});

// Handle Yes button
function handleYesClick() {
  if (isYesClicked) return;
  isYesClicked = true;
  
  // Remove event listeners
  noBtn.removeEventListener('touchstart', arguments.callee);
  noBtn.removeEventListener('touchmove', arguments.callee);
  noBtn.removeEventListener('mouseenter', moveNoButton);
  noBtn.removeEventListener('mousemove', arguments.callee);
  
  // Celebration animations
  for (let i = 0; i < 20; i++) {
    setTimeout(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "üíö";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.bottom = "30vh";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 4000);
    }, i * 100);
  }
  
  for (let i = 0; i < 5; i++) {
    setTimeout(() => {
      const star = document.createElement("div");
      star.className = "shooting-star";
      star.style.top = Math.random() * 40 + "vh";
      star.style.left = "100vw";
      document.body.appendChild(star);
      setTimeout(() => star.remove(), 1100);
    }, i * 400);
  }
  
  // Show success screen
  card.innerHTML = `
    <div class="success-screen">
      <h1>Lucky me üíö</h1>
      <p>The stars aligned perfectly! ‚ú®<br>You made the right choice, Zoe!</p>
      <div class="celebrating-heart">üíö</div>
      <p style="font-size: 0.9rem; color: #666;">Thank you ‚Äî you will not regret this.</p>
    </div>
  `;
  
  // Change background
  document.body.style.background = "radial-gradient(circle at bottom, #1a2f5a, #0a1a3a)";
  
  // Add celebration stars
  for (let i = 0; i < 80; i++) {
    setTimeout(() => {
      const star = document.createElement("div");
      star.className = "star";
      star.style.left = Math.random() * 100 + "vw";
      star.style.top = Math.random() * 100 + "vh";
      document.body.appendChild(star);
    }, i * 30);
  }
}

// Yes button events
yesBtn.addEventListener('click', handleYesClick);
yesBtn.addEventListener('touchstart', function(e) {
  e.preventDefault();
  handleYesClick();
});

// Initialize
function init() {
  createStars();
  createShootingStars();
  
  // Initial position for No button
  setTimeout(() => {
    const areaRect = buttonArea.getBoundingClientRect();
    noBtn.style.left = `${areaRect.width * 0.7 - noBtn.offsetWidth / 2}px`;
    noBtn.style.top = `${areaRect.height * 0.4}px`;
  }, 100);
}

// Start
window.addEventListener('DOMContentLoaded', init);

// Prevent unwanted behaviors
document.addEventListener('contextmenu', e => e.preventDefault());
document.addEventListener('touchmove', e => {
  if (e.target === noBtn || e.target === yesBtn) {
    e.preventDefault();
  }
}, { passive: false });
</script>

</body>
</html>